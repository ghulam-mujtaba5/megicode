<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_Megicode_Advanced" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Megicode Portal" exporterVersion="3.0">
  <bpmn:collaboration id="Collaboration_Advanced">
    <bpmn:participant id="Participant_System" name="Megicode Intelligent Delivery OS" processRef="Process_Advanced" />
  </bpmn:collaboration>
  
  <bpmn:process id="Process_Advanced" isExecutable="true">
    <bpmn:documentation>
      SILICON VALLEY STANDARD WORKFLOW
      Integrations: ClickUp, GitHub, Vercel, Resend, Stripe
      Automation Level: High
    </bpmn:documentation>
    
    <bpmn:laneSet id="LaneSet_Advanced">
      <bpmn:lane id="Lane_Client" name="Client / Stakeholder">
        <bpmn:flowNodeRef>StartEvent_Request</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_ClientApproval</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_PayInvoice</bpmn:flowNodeRef>
      </bpmn:lane>
      
      <bpmn:lane id="Lane_Automation" name="Automation Engine (Portal/API)">
        <bpmn:flowNodeRef>ServiceTask_AIAnalysis</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_ProvisionResources</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_SyncClickUp</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_CICDTrigger</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_NotifyStakeholders</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_GenerateInvoice</bpmn:flowNodeRef>
      </bpmn:lane>
      
      <bpmn:lane id="Lane_PM" name="Project Manager">
        <bpmn:flowNodeRef>UserTask_ApproveScope</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_MonitorDelivery</bpmn:flowNodeRef>
      </bpmn:lane>
      
      <bpmn:lane id="Lane_Dev" name="Engineering Team">
        <bpmn:flowNodeRef>UserTask_Development</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_CodeReview</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>

    <!-- INCEPTION -->
    <bpmn:startEvent id="StartEvent_Request" name="New Project Request">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>

    <bpmn:serviceTask id="ServiceTask_AIAnalysis" name="AI Requirement Analysis &amp; Tagging">
      <bpmn:documentation>Auto-categorize project type, estimate complexity</bpmn:documentation>
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:serviceTask>

    <bpmn:userTask id="UserTask_ApproveScope" name="Review &amp; Approve Scope">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:userTask>

    <!-- PROVISIONING -->
    <bpmn:serviceTask id="ServiceTask_ProvisionResources" name="Auto-Provision Resources">
      <bpmn:documentation>
        1. Create GitHub Repo
        2. Create ClickUp List
        3. Setup Vercel Project
        4. Create Discord Channel
      </bpmn:documentation>
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
    </bpmn:serviceTask>

    <!-- EXECUTION LOOP -->
    <bpmn:serviceTask id="ServiceTask_SyncClickUp" name="Sync Tasks to ClickUp">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:incoming>Flow_LoopBack</bpmn:incoming>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:serviceTask>

    <bpmn:userTask id="UserTask_Development" name="Development (Git Push)">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:userTask>

    <bpmn:serviceTask id="ServiceTask_CICDTrigger" name="CI/CD Pipeline (Vercel)">
      <bpmn:documentation>Auto-build, Test, Deploy Preview</bpmn:documentation>
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:outgoing>Flow_7</bpmn:outgoing>
    </bpmn:serviceTask>

    <bpmn:userTask id="UserTask_CodeReview" name="Code Review &amp; QA">
      <bpmn:incoming>Flow_7</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:userTask>

    <bpmn:exclusiveGateway id="Gateway_QA" name="Passed QA?">
      <bpmn:incoming>Flow_8</bpmn:incoming>
      <bpmn:outgoing>Flow_Passed</bpmn:outgoing>
      <bpmn:outgoing>Flow_Failed</bpmn:outgoing>
    </bpmn:exclusiveGateway>

    <bpmn:sequenceFlow id="Flow_Failed" sourceRef="Gateway_QA" targetRef="ServiceTask_SyncClickUp">
      <bpmn:documentation>Reopen Task</bpmn:documentation>
    </bpmn:sequenceFlow>

    <!-- DELIVERY -->
    <bpmn:userTask id="UserTask_MonitorDelivery" name="Final Release Approval">
      <bpmn:incoming>Flow_Passed</bpmn:incoming>
      <bpmn:outgoing>Flow_9</bpmn:outgoing>
    </bpmn:userTask>

    <bpmn:serviceTask id="ServiceTask_NotifyStakeholders" name="Notify Client (Resend)">
      <bpmn:incoming>Flow_9</bpmn:incoming>
      <bpmn:outgoing>Flow_10</bpmn:outgoing>
    </bpmn:serviceTask>

    <bpmn:userTask id="UserTask_ClientApproval" name="Client UAT Sign-off">
      <bpmn:incoming>Flow_10</bpmn:incoming>
      <bpmn:outgoing>Flow_11</bpmn:outgoing>
    </bpmn:userTask>

    <bpmn:serviceTask id="ServiceTask_GenerateInvoice" name="Generate Invoice (Stripe)">
      <bpmn:incoming>Flow_11</bpmn:incoming>
      <bpmn:outgoing>Flow_12</bpmn:outgoing>
    </bpmn:serviceTask>

    <bpmn:userTask id="UserTask_PayInvoice" name="Payment Processing">
      <bpmn:incoming>Flow_12</bpmn:incoming>
      <bpmn:outgoing>Flow_End</bpmn:outgoing>
    </bpmn:userTask>

    <bpmn:endEvent id="EndEvent_Complete" name="Project Delivered &amp; Paid">
      <bpmn:incoming>Flow_End</bpmn:incoming>
    </bpmn:endEvent>

    <!-- CONNECTIONS -->
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_Request" targetRef="ServiceTask_AIAnalysis" />
    <bpmn:sequenceFlow id="Flow_2" sourceRef="ServiceTask_AIAnalysis" targetRef="UserTask_ApproveScope" />
    <bpmn:sequenceFlow id="Flow_3" sourceRef="UserTask_ApproveScope" targetRef="ServiceTask_ProvisionResources" />
    <bpmn:sequenceFlow id="Flow_4" sourceRef="ServiceTask_ProvisionResources" targetRef="ServiceTask_SyncClickUp" />
    <bpmn:sequenceFlow id="Flow_5" sourceRef="ServiceTask_SyncClickUp" targetRef="UserTask_Development" />
    <bpmn:sequenceFlow id="Flow_6" sourceRef="UserTask_Development" targetRef="ServiceTask_CICDTrigger" />
    <bpmn:sequenceFlow id="Flow_7" sourceRef="ServiceTask_CICDTrigger" targetRef="UserTask_CodeReview" />
    <bpmn:sequenceFlow id="Flow_8" sourceRef="UserTask_CodeReview" targetRef="Gateway_QA" />
    <bpmn:sequenceFlow id="Flow_Passed" sourceRef="Gateway_QA" targetRef="UserTask_MonitorDelivery" />
    <bpmn:sequenceFlow id="Flow_9" sourceRef="UserTask_MonitorDelivery" targetRef="ServiceTask_NotifyStakeholders" />
    <bpmn:sequenceFlow id="Flow_10" sourceRef="ServiceTask_NotifyStakeholders" targetRef="UserTask_ClientApproval" />
    <bpmn:sequenceFlow id="Flow_11" sourceRef="UserTask_ClientApproval" targetRef="ServiceTask_GenerateInvoice" />
    <bpmn:sequenceFlow id="Flow_12" sourceRef="ServiceTask_GenerateInvoice" targetRef="UserTask_PayInvoice" />
    <bpmn:sequenceFlow id="Flow_End" sourceRef="UserTask_PayInvoice" targetRef="EndEvent_Complete" />
    <bpmn:sequenceFlow id="Flow_LoopBack" sourceRef="Gateway_QA" targetRef="ServiceTask_SyncClickUp" />

  </bpmn:process>
  
  <bpmndi:BPMNDiagram id="Diagram_Advanced">
    <bpmndi:BPMNPlane id="Plane_Advanced" bpmnElement="Collaboration_Advanced">
      <bpmndi:BPMNShape id="Participant_System_di" bpmnElement="Participant_System" isHorizontal="true">
        <dc:Bounds x="100" y="50" width="2000" height="800" />
      </bpmndi:BPMNShape>
      
      <!-- Lanes -->
      <bpmndi:BPMNShape id="Lane_Client_di" bpmnElement="Lane_Client" isHorizontal="true">
        <dc:Bounds x="130" y="50" width="1970" height="150" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_Automation_di" bpmnElement="Lane_Automation" isHorizontal="true">
        <dc:Bounds x="130" y="200" width="1970" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_PM_di" bpmnElement="Lane_PM" isHorizontal="true">
        <dc:Bounds x="130" y="400" width="1970" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_Dev_di" bpmnElement="Lane_Dev" isHorizontal="true">
        <dc:Bounds x="130" y="600" width="1970" height="200" />
      </bpmndi:BPMNShape>

      <!-- Nodes -->
      <bpmndi:BPMNShape id="StartEvent_Request_di" bpmnElement="StartEvent_Request">
        <dc:Bounds x="180" y="100" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_AIAnalysis_di" bpmnElement="ServiceTask_AIAnalysis">
        <dc:Bounds x="250" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_ApproveScope_di" bpmnElement="UserTask_ApproveScope">
        <dc:Bounds x="400" y="460" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_ProvisionResources_di" bpmnElement="ServiceTask_ProvisionResources">
        <dc:Bounds x="550" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_SyncClickUp_di" bpmnElement="ServiceTask_SyncClickUp">
        <dc:Bounds x="700" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_Development_di" bpmnElement="UserTask_Development">
        <dc:Bounds x="700" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_CICDTrigger_di" bpmnElement="ServiceTask_CICDTrigger">
        <dc:Bounds x="850" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_CodeReview_di" bpmnElement="UserTask_CodeReview">
        <dc:Bounds x="850" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_QA_di" bpmnElement="Gateway_QA" isMarkerVisible="true">
        <dc:Bounds x="1000" y="675" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_MonitorDelivery_di" bpmnElement="UserTask_MonitorDelivery">
        <dc:Bounds x="1100" y="460" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_NotifyStakeholders_di" bpmnElement="ServiceTask_NotifyStakeholders">
        <dc:Bounds x="1250" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_ClientApproval_di" bpmnElement="UserTask_ClientApproval">
        <dc:Bounds x="1250" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GenerateInvoice_di" bpmnElement="ServiceTask_GenerateInvoice">
        <dc:Bounds x="1400" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_PayInvoice_di" bpmnElement="UserTask_PayInvoice">
        <dc:Bounds x="1400" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_Complete_di" bpmnElement="EndEvent_Complete">
        <dc:Bounds x="1550" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>

      <!-- Edges -->
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="216" y="118" />
        <di:waypoint x="233" y="118" />
        <di:waypoint x="233" y="300" />
        <di:waypoint x="250" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="350" y="300" />
        <di:waypoint x="375" y="300" />
        <di:waypoint x="375" y="500" />
        <di:waypoint x="400" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="500" y="500" />
        <di:waypoint x="525" y="500" />
        <di:waypoint x="525" y="300" />
        <di:waypoint x="550" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="650" y="300" />
        <di:waypoint x="700" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="750" y="340" />
        <di:waypoint x="750" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="800" y="700" />
        <di:waypoint x="825" y="700" />
        <di:waypoint x="825" y="300" />
        <di:waypoint x="850" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="900" y="340" />
        <di:waypoint x="900" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="950" y="700" />
        <di:waypoint x="1000" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Passed_di" bpmnElement="Flow_Passed">
        <di:waypoint x="1050" y="700" />
        <di:waypoint x="1075" y="700" />
        <di:waypoint x="1075" y="500" />
        <di:waypoint x="1100" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_9_di" bpmnElement="Flow_9">
        <di:waypoint x="1200" y="500" />
        <di:waypoint x="1225" y="500" />
        <di:waypoint x="1225" y="300" />
        <di:waypoint x="1250" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_di" bpmnElement="Flow_10">
        <di:waypoint x="1300" y="260" />
        <di:waypoint x="1300" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11_di" bpmnElement="Flow_11">
        <di:waypoint x="1350" y="120" />
        <di:waypoint x="1375" y="120" />
        <di:waypoint x="1375" y="300" />
        <di:waypoint x="1400" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12_di" bpmnElement="Flow_12">
        <di:waypoint x="1450" y="260" />
        <di:waypoint x="1450" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_End_di" bpmnElement="Flow_End">
        <di:waypoint x="1500" y="120" />
        <di:waypoint x="1550" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_LoopBack_di" bpmnElement="Flow_LoopBack">
        <di:waypoint x="1025" y="725" />
        <di:waypoint x="1025" y="780" />
        <di:waypoint x="680" y="780" />
        <di:waypoint x="680" y="300" />
        <di:waypoint x="700" y="300" />
      </bpmndi:BPMNEdge>

    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
